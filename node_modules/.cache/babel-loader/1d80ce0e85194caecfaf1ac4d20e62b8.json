{"ast":null,"code":"import _toConsumableArray from\"/Users/mickaelchimansky/Desktop/lil-brother/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _taggedTemplateLiteral from\"/Users/mickaelchimansky/Desktop/lil-brother/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import styled from\"styled-components\";import{FiActivity,FiWatch,FiMapPin,FiChevronsRight}from\"react-icons/fi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n\"])));var StatsWrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-around;\\n  margin-bottom: 1em;\\n\\n  & > span {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    font-size: 1em;\\n  }\\n\\n  & svg {\\n    font-size: 40px;\\n    margin: 10px;\\n  }\\n\"])));// Get the edian value from an array\nvar getMedian=function getMedian(values){values.sort(function(a,b){return a-b;});var half=Math.floor(values.length/2);if(values.length%2)return values[half];return(values[half-1]+values[half])/2.0;};var Stats=function Stats(_ref){var data=_ref.data,selectedId=_ref.selectedId;var isDisabled=selectedId===null;var getTrajectoryLength=function getTrajectoryLength(){var _data$selectedId;var timeValues=(_data$selectedId=data[selectedId])===null||_data$selectedId===void 0?void 0:_data$selectedId.points.map(function(_ref2){var time=_ref2.time;return time;});var diff=Math.max.apply(Math,_toConsumableArray(timeValues))-Math.min.apply(Math,_toConsumableArray(timeValues));return diff;};var getMedianSpeed=function getMedianSpeed(){var _data$selectedId2;var timeValues=[];var xValues=[];var yValues=[];(_data$selectedId2=data[selectedId])===null||_data$selectedId2===void 0?void 0:_data$selectedId2.points.forEach(function(_ref3){var time=_ref3.time,x=_ref3.x,y=_ref3.y;timeValues=[].concat(_toConsumableArray(timeValues),[time]);xValues=[].concat(_toConsumableArray(xValues),[x]);yValues=[].concat(_toConsumableArray(yValues),[y]);});var medianSpeed=getMedian(timeValues)/timeValues.length;var medianX=getMedian(xValues)/xValues.length;var medianY=getMedian(yValues)/yValues.length;return parseFloat(medianX+medianY/medianSpeed).toPrecision(4);};var getStopNumber=function getStopNumber(){var _data$selectedId3;var stops=0;(_data$selectedId3=data[selectedId])===null||_data$selectedId3===void 0?void 0:_data$selectedId3.points.reduce(function(sum,acc){if(acc.x===(sum===null||sum===void 0?void 0:sum.x)||acc.y===(sum===null||sum===void 0?void 0:sum.y))stops++;return sum;});return stops;};return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(FiActivity,{}),/*#__PURE__*/_jsx(\"span\",{className:\"mobile-hide\",children:\"Did you know ?\"})]}),isDisabled?/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:300},children:\"Select a profile to know more about him\"}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(StatsWrapper,{children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FiWatch,{}),\"Total trajectory length: \",getTrajectoryLength(),\" s\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FiChevronsRight,{}),\"Median speed: \",getMedianSpeed(),\" m/s\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FiMapPin,{}),\"Number of stops: \",getStopNumber()]})]})})]});};export default Stats;","map":{"version":3,"sources":["/Users/mickaelchimansky/Desktop/lil-brother/src/components/Stats.js"],"names":["styled","FiActivity","FiWatch","FiMapPin","FiChevronsRight","Wrapper","div","StatsWrapper","getMedian","values","sort","a","b","half","Math","floor","length","Stats","data","selectedId","isDisabled","getTrajectoryLength","timeValues","points","map","time","diff","max","min","getMedianSpeed","xValues","yValues","forEach","x","y","medianSpeed","medianX","medianY","parseFloat","toPrecision","getStopNumber","stops","reduce","sum","acc","fontWeight"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\nimport { FiActivity, FiWatch, FiMapPin, FiChevronsRight } from \"react-icons/fi\";\n\nconst Wrapper = styled.div`\n  width: 100%;\n`;\n\nconst StatsWrapper = styled.div`\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 1em;\n\n  & > span {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    font-size: 1em;\n  }\n\n  & svg {\n    font-size: 40px;\n    margin: 10px;\n  }\n`;\n\n// Get the edian value from an array\nconst getMedian = (values) => {\n  values.sort((a, b) => a - b);\n  const half = Math.floor(values.length / 2);\n  if (values.length % 2) return values[half];\n  return (values[half - 1] + values[half]) / 2.0;\n};\n\nconst Stats = ({ data, selectedId }) => {\n  const isDisabled = selectedId === null;\n\n  const getTrajectoryLength = () => {\n    const timeValues = data[selectedId]?.points.map(({ time }) => time);\n    const diff = Math.max(...timeValues) - Math.min(...timeValues);\n    return diff;\n  };\n\n  const getMedianSpeed = () => {\n    let timeValues = [];\n    let xValues = [];\n    let yValues = [];\n\n    data[selectedId]?.points.forEach(({ time, x, y }) => {\n      timeValues = [...timeValues, time];\n      xValues = [...xValues, x];\n      yValues = [...yValues, y];\n    });\n\n    const medianSpeed = getMedian(timeValues) / timeValues.length;\n    const medianX = getMedian(xValues) / xValues.length;\n    const medianY = getMedian(yValues) / yValues.length;\n\n    return parseFloat(medianX + medianY / medianSpeed).toPrecision(4);\n  };\n\n  const getStopNumber = () => {\n    let stops = 0;\n\n    data[selectedId]?.points.reduce((sum, acc) => {\n      if (acc.x === sum?.x || acc.y === sum?.y) stops++;\n      return sum;\n    });\n\n    return stops;\n  };\n\n  return (\n    <Wrapper>\n      <h2>\n        <FiActivity />\n        <span className=\"mobile-hide\">Did you know ?</span>\n      </h2>\n      {isDisabled ? (\n        <span style={{ fontWeight: 300 }}>\n          Select a profile to know more about him\n        </span>\n      ) : (\n        <>\n          <StatsWrapper>\n            <span>\n              <FiWatch />\n              Total trajectory length: {getTrajectoryLength()} s\n            </span>\n            <span>\n              <FiChevronsRight />\n              Median speed: {getMedianSpeed()} m/s\n            </span>\n            <span>\n              <FiMapPin />\n              Number of stops: {getStopNumber()}\n            </span>\n          </StatsWrapper>\n        </>\n      )}\n    </Wrapper>\n  );\n};\n\nexport default Stats;\n"]},"metadata":{},"sourceType":"module"}